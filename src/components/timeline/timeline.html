<ion-list [virtualScroll]="timelineEvents" [approxItemHeight]="200">
  <ion-item *virtualItem="let e">
    <ion-card>
      <h2 *ngIf="e.type == 0 && !e.variables.isTV">{{ 'TIMELINE.TITLE_RATE_MOVIE' | translate }}</h2>
      <h2 *ngIf="e.type == 0 && e.variables.isTV">{{ 'TIMELINE.TITLE_RATE_TV' | translate }}</h2>
      <h2 *ngIf="e.type == 1">{{ 'TIMELINE.TITLE_FOLLOW' | translate }}</h2>
      <h2 *ngIf="e.type == 2">{{ 'TIMELINE.TITLE_FRIEND' | translate }}</h2>
      <div class="date">{{ e.createdAt | date:'dd' }} {{ 'MONTHS.' + getMonth(e.createdAt) | translate }} {{ 'TIME.AT' | translate }} {{ e.createdAt | date:'HH:mm' }}</div>
      <div *ngIf="e.type == 0">
        <timeline-event-rate-movie [friends]="friends" [curUserId]="e.userId" [isCurUserYou]="e.userId == currentUserId" [config]="config" [questionnaire]="e.variables.questionnaire" [isTV]="e.variables.isTV" [lang]="lang"></timeline-event-rate-movie>
      </div>
      <div *ngIf="e.type == 1">
        <timeline-event-follow [friends]="friends" [curUsername]="e.variables.username" [friendUserId]="e.userId" [curUserId]="e.variables.userId" [isCurUserYou]="e.variables.userId == currentUserId" [isFriendUserYou]="e.userId == currentUserId"></timeline-event-follow> 
      </div>
      <div *ngIf="e.type == 2">
        <timeline-event-friend [friends]="friends" [curUsername]="e.variables.username" [friendUserId]="e.userId" [curUserId]="e.variables.userId" [isCurUserYou]="e.variables.userId == currentUserId" [isFriendUserYou]="e.userId == currentUserId"></timeline-event-friend> 
      </div>
    </ion-card>
  </ion-item>
</ion-list>

<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
  <ion-infinite-scroll-content></ion-infinite-scroll-content>
</ion-infinite-scroll>
